"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[666],{90672:function(G,F,r){var P=r(1413),U=r(91),i=r(85893),y=r(67294),B=r(3019),j=["fieldProps","proFieldProps"],f=function(s,I){var d=s.fieldProps,c=s.proFieldProps,p=(0,U.Z)(s,j);return(0,i.jsx)(B.Z,(0,P.Z)({ref:I,valueType:"textarea",fieldProps:d,proFieldProps:c},p))};F.Z=y.forwardRef(f)},35740:function(G,F,r){r.r(F),r.d(F,{default:function(){return de}});var P=r(73137),U=r(11281),i=r.n(U),y=r(12812),B=r.n(y),j=r(12741),f=r.n(j),S=r(97983),s=r.n(S),I=r(40794),d=r.n(I),c=r(63154),p=r(30028);function N(t){return b.apply(this,arguments)}function b(){return b=d()(s()().mark(function t(u){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/seller/api/teachers/getAllTeachersByConditionsWithTotal?clientId=466",{params:u}).then(function(l){return{data:(0,c.we)(l.teacherList),total:l.totalNum}}));case 1:case"end":return e.stop()}},t)})),b.apply(this,arguments)}function J(){return T.apply(this,arguments)}function T(){return T=d()(s()().mark(function t(){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,p.request)("/seller/api/homepages?clientId.equals=466").then(function(e){var l=f()(e,1),a=l[0];return i()(i()({},a),{},{aboutUsImgUrl:[{url:a.aboutUsImgUrl}],consultUrl:[{url:a.consultUrl}],coverUrl:[{url:a.coverUrl}]})}));case 1:case"end":return o.stop()}},t)})),T.apply(this,arguments)}function Q(t){return A.apply(this,arguments)}function A(){return A=d()(s()().mark(function t(u){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/seller/api/homepages/update",{method:"post",data:u}));case 1:case"end":return e.stop()}},t)})),A.apply(this,arguments)}function X(t){return Z.apply(this,arguments)}function Z(){return Z=d()(s()().mark(function t(u){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/seller/api/teachers/".concat(u)).then(function(l){return i()(i()({},l),{},{avatarUrl:[{url:l.avatarUrl}]})}));case 1:case"end":return e.stop()}},t)})),Z.apply(this,arguments)}function Y(t){return D.apply(this,arguments)}function D(){return D=d()(s()().mark(function t(u){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/seller/api/teachers/update",{method:"post",data:u}));case 1:case"end":return e.stop()}},t)})),D.apply(this,arguments)}function k(t){return R.apply(this,arguments)}function R(){return R=d()(s()().mark(function t(u){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/seller/api/teachers",{method:"post",data:u}));case 1:case"end":return e.stop()}},t)})),R.apply(this,arguments)}function q(t){return O.apply(this,arguments)}function O(){return O=d()(s()().mark(function t(u){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/seller/api/teachers/".concat(u),{method:"delete"}));case 1:case"end":return e.stop()}},t)})),O.apply(this,arguments)}var _=r(97269),w=r(90672),C=r(20750),H=r(5966),E=r(80737),L=r(12461),n=r(85893),ee=function(){var t=E.Z.useForm(),u=f()(t,1),o=u[0],e=function(a,h){(0,c.Wi)(a).then(function(m){o.setFieldsValue(B()({},h,[Object.assign(a,{url:"https://ssl.cdn.maodouketang.com/".concat(m.key)})]))})};return(0,n.jsxs)(_.A,{form:o,onFinish:function(a){return Q(i()(i()({},a),{},{aboutUsImgUrl:a.aboutUsImgUrl[0].url,consultUrl:a.consultUrl[0].url,coverUrl:a.coverUrl[0].url})).then(function(){L.ZP.success("\u4FDD\u5B58\u6210\u529F")})},request:J,labelCol:8,layout:"horizontal",style:{marginTop:20},grid:!0,children:[(0,n.jsx)(w.Z,{name:"aboutUsInfo",label:"\u673A\u6784\u4ECB\u7ECD",colProps:{md:24,xl:24},required:!0,placeholder:"\u8BF7\u8F93\u5165",labelCol:{span:2},fieldProps:{maxLength:300,showCount:!0,rows:10},rules:c.n0}),(0,n.jsx)(C.Z,{name:"aboutUsImgUrl",label:"\u673A\u6784\u4ECB\u7ECD\u56FE\u7247",max:1,required:!0,fieldProps:{name:"file",listType:"picture-card"},labelCol:{span:2},rules:c.n0,action:function(a){return e(a,"aboutUsImgUrl")},extra:"\u5EFA\u8BAE\u56FE\u7247\u6BD4\u4F8B\u4E3A16:9"}),(0,n.jsx)(C.Z,{name:"consultUrl",label:"\u673A\u6784Logo",max:1,required:!0,fieldProps:{name:"file",listType:"picture-card"},labelCol:{span:2},rules:c.n0,action:function(a){return e(a,"consultUrl")},extra:"\u5EFA\u8BAE\u56FE\u7247\u6BD4\u4F8B\u4E3A16:9"}),(0,n.jsx)(C.Z,{name:"coverUrl",label:"\u5C01\u9762\u56FE",max:1,required:!0,fieldProps:{name:"file",listType:"picture-card"},labelCol:{span:2},rules:c.n0,action:function(a){return e(a,"coverUrl")},extra:"\u5EFA\u8BAE\u56FE\u7247\u6BD4\u4F8B\u4E3A16:9"}),(0,n.jsx)(H.Z,{name:"icpInfo",label:"\u4E00\u53E5\u8BDD\u7B80\u4ECB",labelCol:{span:2},required:!0,placeholder:"\u8BF7\u8F93\u5165",rules:c.n0}),(0,n.jsx)(E.Z.Item,{name:"id",noStyle:!0})]})},re=r(24969),te=r(87340),M=r(71577),ne=r(65360),$=r(67294),ae=r(97548),ue=r.n(ae),le=r(71975),K=r(31199),W=r(96486),se=["id","handleClose","tableReload"],oe=function(t){var u=t.id,o=t.handleClose,e=t.tableReload,l=ue()(t,se),a=E.Z.useForm(),h=f()(a,1),m=h[0];(0,$.useEffect)(function(){(0,W.isUndefined)(u)||!l.visible||X(u).then(m.setFieldsValue)},[u,l.visible]);var pe=function(){var z=d()(s()().mark(function v(g){var V;return s()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return V=i()(i()({tag:"star",clientId:"466"},g),{},{avatarUrl:g.avatarUrl[0].url}),x.abrupt("return",((0,W.isUndefined)(u)?k:Y)(V).then(function(){L.ZP.success("\u4FDD\u5B58\u6210\u529F"),o(),e()}));case 2:case"end":return x.stop()}},v)}));return function(g){return z.apply(this,arguments)}}(),fe=function(v){(0,c.Wi)(v).then(function(g){m.setFieldsValue({avatarUrl:[Object.assign(v,{url:"https://ssl.cdn.maodouketang.com/".concat(g.key)})]})})};return(0,n.jsxs)(le.a,i()(i()({},l),{},{form:m,drawerProps:{maskClosable:!1,onClose:o,destroyOnClose:!0},title:(0,W.isUndefined)(u)?"\u6DFB\u52A0\u6559\u5E08":"\u7F16\u8F91\u6559\u5E08",grid:!0,width:"35%",layout:"horizontal",onFinish:pe,children:[(0,n.jsx)(H.Z,{name:"name",label:"\u59D3\u540D",labelCol:{span:4},required:!0,placeholder:"\u8BF7\u8F93\u5165",rules:c.n0}),(0,n.jsx)(w.Z,{name:"info",label:"\u6559\u5E08\u4ECB\u7ECD",required:!0,placeholder:"\u8BF7\u8F93\u5165",labelCol:{span:4},fieldProps:{maxLength:110,showCount:!0},rules:c.n0}),(0,n.jsx)(K.Z,{name:"coursesCount",label:"\u8BFE\u7A0B\u6570",required:!0,labelCol:{span:4},placeholder:"\u8BF7\u8F93\u5165",rules:c.n0}),(0,n.jsx)(K.Z,{name:"studentsCount",label:"\u5B66\u751F\u6570",required:!0,labelCol:{span:4},placeholder:"\u8BF7\u8F93\u5165",rules:c.n0}),(0,n.jsx)(C.Z,{name:"avatarUrl",label:"\u6559\u5E08\u5934\u50CF",max:1,required:!0,labelCol:{span:4},fieldProps:{name:"file",listType:"picture-card"},rules:c.n0,action:fe,extra:"\u5EFA\u8BAE\u56FE\u7247\u6BD4\u4F8B\u4E3A1:1"}),(0,n.jsx)(E.Z.Item,{name:"id",noStyle:!0})]}))},ie=function(u,o){return[{title:"\u5E8F\u53F7",dataIndex:"index",align:"center",width:80},{title:"\u59D3\u540D",dataIndex:"name"},{title:"\u6559\u5E08\u4ECB\u7ECD",dataIndex:"info",width:200,ellipsis:!0},{title:"\u8BFE\u7A0B\u6570",dataIndex:"coursesCount",align:"center",width:80},{title:"\u5B66\u751F\u6570",dataIndex:"studentsCount",align:"center",width:80},{title:"\u6559\u5E08\u5934\u50CF",dataIndex:"avatarUrl",align:"center",width:80,valueType:"image"},{title:"\u64CD\u4F5C",dataIndex:"action",align:"center",width:160,render:function(l,a){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(M.Z,{onClick:function(){return u({visible:!0,id:a.id})},size:"small",type:"link",children:"\u7F16\u8F91"}),(0,n.jsx)(ne.Z,{title:"\u786E\u5B9A\u5220\u9664?",onConfirm:function(){return q(a.id).then(function(){o.current.reload(),L.ZP.success("\u64CD\u4F5C\u6210\u529F")})},children:(0,n.jsx)(M.Z,{size:"small",type:"link",danger:!0,children:"\u5220\u9664"})})]})}}].map(function(e){return i()({search:!1,width:120},e)})},ce=function(){var t=(0,$.useState)({visible:!1}),u=f()(t,2),o=u[0],e=u[1],l=(0,$.useRef)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(te.Z,{actionRef:l,pagination:null,rowKey:"id",columns:ie(e,l),search:!1,toolBarRender:function(){return(0,n.jsx)(M.Z,{onClick:function(){return e({visible:!0})},type:"primary",icon:(0,n.jsx)(re.Z,{}),children:"\u65B0\u589E"})},request:N,scroll:{y:510}}),(0,n.jsx)(oe,i()(i()({},o),{},{tableReload:function(){return l.current.reload()},handleClose:function(){return e({visible:!1})}}))]})},de=function(){return(0,n.jsx)(P._z,{tabList:[{tab:"\u673A\u6784\u9996\u9875",key:"orgHomepage",children:(0,n.jsx)(ee,{})},{tab:"\u6388\u8BFE\u540D\u5E08",key:"teacher",children:(0,n.jsx)(ce,{})}]})}}}]);
